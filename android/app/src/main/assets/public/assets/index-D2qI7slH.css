@import "https://fonts.googleapis.com/css2?family=Nunito:wght@500;700;800;900&display=swap";:root{--bg:#0f1622;--bg-elev:#111b2a;--panel:#162232;--panel-2:#1b2a3d;--text:#e9eef6;--muted:#9db0c8;--line:#2b3c54;--line-strong:#355070;--primary:#6ce817;--primary-strong:#4aa300;--blue:#48c8ff;--danger:#ff707c;--success-bg:#1e3b27;--success-text:#a0e488;--error-bg:#3a2027;--error-text:#ffb0b8;--chip:#1c2c42;--editor:#0a1320;--editor-2:#12233a;--shadow-sm:0 1px 2px #00000040;--shadow-md:0 2px 10px #00000047;--radius-lg:18px;--radius-md:13px;--radius-sm:10px;--duo-surface:#1a2a3d}*{box-sizing:border-box}html,body,#root{min-height:100%;margin:0}body{background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Nunito,sans-serif}.app-shell{min-height:100vh}.clean-layout,.lesson-main,.game-nav,.feedback{max-width:1020px;margin:0 auto}.desktop-shell{min-height:100vh}.desktop-shell-header{justify-content:space-between;align-items:end;gap:14px;max-width:1140px;margin:0 auto;padding:22px 18px 10px;display:flex}.desktop-shell-header h1{letter-spacing:-.015em;margin:0;font-size:clamp(1.35rem,2.2vw,2rem);line-height:1.15}.mobile-shell{background:radial-gradient(500px 180px at 20% 0%, color-mix(in srgb, var(--primary) 13%, transparent), transparent 70%), var(--bg);min-height:100vh}.mobile-shell-header{z-index:12;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:color-mix(in srgb, var(--bg) 86%, transparent);border-bottom:1px solid var(--line);padding:10px 12px;position:sticky;top:0}.mobile-shell-hero{border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-sm);border-radius:14px;justify-content:space-between;align-items:center;gap:10px;padding:9px 10px;display:flex}.mobile-shell-hero h1{margin:0;font-size:1.05rem}.mobile-streak-pill{border:1px solid var(--line);color:var(--muted);background:var(--panel-2);white-space:nowrap;border-radius:999px;padding:6px 10px;font-size:.75rem;font-weight:900}.mobile-shell-content{padding:10px 0 92px}.topbar{justify-content:space-between;align-items:end;gap:14px;padding:22px 18px 10px;display:flex}.topbar h1{letter-spacing:-.015em;margin:0;font-size:clamp(1.35rem,2.2vw,2rem);line-height:1.15}.eyebrow{color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin:0 0 5px;font-size:.82rem;font-weight:800}.brand{align-items:center;gap:14px;display:flex}.brand-inline{align-items:center;gap:11px;display:flex}.brand-mark{object-fit:cover;border:1px solid var(--line);background:var(--panel-2);width:58px;height:58px;box-shadow:var(--shadow-sm);border-radius:14px}.brand-mark.small{border-radius:10px;width:36px;height:36px}.brand-kicker{color:var(--muted);letter-spacing:.12em;text-transform:uppercase;margin:0 0 2px;font-size:.75rem;font-weight:900}.brand-version{color:var(--muted);margin:3px 0 0;font-size:.72rem;font-weight:800}.tabs{gap:8px;display:flex}.tab{border:1px solid var(--line);background:var(--panel);color:var(--muted);cursor:pointer;border-radius:999px;align-items:center;gap:6px;padding:8px 15px;font-weight:800;transition:all .16s;display:inline-flex}.tab:hover{border-color:var(--line-strong)}.tab.active{border-color:color-mix(in srgb, var(--primary) 45%, var(--line));color:var(--text);box-shadow:inset 0 -2px 0 color-mix(in srgb, var(--primary) 50%, transparent)}.tab-icon{width:16px;height:16px}.stats-row{flex-wrap:wrap;gap:10px;padding:0 18px 14px;display:flex}.stats-row span{background:var(--chip);border:1px solid var(--line);color:var(--muted);border-radius:999px;padding:7px 12px;font-size:.86rem;font-weight:800}.mobile-hero{border-radius:var(--radius-md);border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-sm);align-items:center;gap:11px;margin:0 18px 14px;padding:12px;display:none}.mobile-hero-logo{object-fit:cover;border-radius:12px;width:44px;height:44px}.mobile-hero h2{margin:0;font-size:.99rem}.mobile-hero p{color:var(--muted);margin:1px 0 0;font-size:.82rem}.map-screen{min-height:calc(100vh - 76px)}.map-wrap{flex-direction:column;align-items:center;gap:12px;max-width:460px;margin:0 auto;padding:8px 16px 52px;display:flex}.map-canvas{width:420px;max-width:100%;position:relative}.map-svg{width:100%;height:100%;position:absolute;inset:0}.map-path{fill:none;stroke:color-mix(in srgb, var(--line-strong) 80%, var(--primary));stroke-width:6px;stroke-linecap:round}.map-node-layer{justify-items:center;gap:6px;display:grid;position:absolute;transform:translate(-50%,-50%)}.unit-badge{border:1px solid var(--line);background:var(--panel);color:var(--muted);text-transform:uppercase;letter-spacing:.08em;border-radius:999px;margin-bottom:2px;padding:4px 10px;font-size:.7rem;font-weight:900}.map-title{letter-spacing:-.01em;margin:0;font-size:1.3rem}.map-node{color:#fff;cursor:pointer;width:76px;height:76px;box-shadow:var(--shadow-sm);border:2px solid #0000;border-radius:999px;font-size:1rem;font-weight:900;transition:transform .12s,border-color .12s}.map-node:hover{transform:translateY(-1px)}.map-node.is-locked{box-shadow:none;cursor:not-allowed;background:#9aa7b8}.map-node.is-current{border-color:color-mix(in srgb, var(--panel) 80%, white)}.map-node-label{opacity:1;background:var(--panel);border:1px solid var(--line);color:var(--text);white-space:nowrap;border-radius:8px;padding:3px 8px;font-size:.7rem}.profile-card,.theory-card,.challenge-panel,.onboarding-card,.minimal-card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius-lg);box-shadow:var(--shadow-md)}.profile-card{margin:8px 18px 24px;padding:19px}.profile-card h2{margin-top:0}.profile-actions{flex-wrap:wrap;gap:8px;margin-top:14px;display:flex}.profile-message{color:var(--muted);margin:10px 0 0;font-size:.85rem;font-weight:800}.plan-card{border:1px solid var(--line);border-radius:var(--radius-md);background:var(--panel);box-shadow:var(--shadow-sm);margin:0 18px 16px;padding:14px}.plan-card h3{letter-spacing:-.01em;margin:0;font-size:1.02rem}.plan-card p{color:var(--muted);margin:8px 0 0;font-weight:700;line-height:1.45}.duo-summary{grid-template-columns:1.2fr 1fr;gap:12px;margin:0 18px 16px;display:grid}.duo-stat-card{border:1px solid var(--line);border-radius:var(--radius-md);background:var(--panel);box-shadow:var(--shadow-sm);padding:14px}.duo-stat-card h3{letter-spacing:-.01em;margin:2px 0 0;font-size:1rem}.duo-stat-card p{color:var(--muted);margin:8px 0 0;font-weight:700}.panel-head{margin:8px 18px 12px}.panel-head h2{margin:0;font-size:1.35rem}.panel-head p{color:var(--muted);margin:4px 0 0;font-weight:700}.stats-page,.missions-page,.session-page{margin:0 18px 24px}.usage-streak-panel{border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-sm);border-radius:14px;margin:0 18px 14px;padding:14px}.usage-streak-panel h3{margin:0;font-size:1.1rem}.focus-strip{grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin:0 18px 14px;display:grid}.focus-card{border:1px solid var(--line);background:color-mix(in srgb, var(--panel-2) 82%, transparent);border-radius:12px;padding:10px 12px}.focus-label{color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin:0;font-size:.74rem;font-weight:800}.focus-card strong{margin-top:4px;font-size:1.18rem;display:block}.focus-card small{color:var(--muted);font-weight:700}.boost-banner{border:1px solid var(--line);background:color-mix(in srgb, var(--primary) 14%, var(--panel));border-radius:999px;align-items:center;gap:8px;margin:0 0 12px;padding:8px 12px;font-weight:800;display:inline-flex}.stats-boost .ring-card{animation:.42s ease-out statPop}.stats-kpi-row{grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin:0 0 12px;display:grid}.stats-kpi{border:1px solid var(--line);background:color-mix(in srgb, var(--panel-2) 78%, transparent);border-radius:12px;padding:10px 12px}.stats-kpi span{color:var(--muted);font-size:.74rem;font-weight:800;display:block}.stats-kpi strong{font-size:1.15rem}.ring-grid{grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;display:grid}.ring-card{border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-sm);text-align:center;border-radius:14px;padding:14px 12px}.ring-track,.ring-progress{fill:none;stroke-width:10px}.ring-track{stroke:var(--bg-elev)}.ring-progress{transform-origin:50%;stroke-linecap:round;transition:stroke-dashoffset .6s;transform:rotate(-90deg)}.ring-label{color:var(--muted);text-transform:uppercase;letter-spacing:.06em;margin:6px 0 2px;font-size:.78rem;font-weight:800}.ring-value{margin:0;font-size:1.2rem;font-weight:900}.ring-meta{color:var(--muted);margin:2px 0 0;font-size:.78rem}.mission-list{gap:10px;display:grid}.mission-item{border:1px solid var(--line);background:var(--panel);border-radius:12px;align-items:center;gap:10px;padding:12px;display:flex}.mission-item h3{margin:0;font-size:1rem}.mission-item p{color:var(--muted);margin:2px 0 0;font-weight:700}.insights-card,.achievements-card,.missions-progress{border:1px solid var(--line);background:var(--panel);border-radius:14px;margin-top:12px;padding:12px}.insights-card h3,.achievements-card h3,.missions-progress h3{margin:0;font-size:.98rem}.insights-card p{color:var(--muted);margin:6px 0 0;font-weight:700}.achievements-grid{grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;margin-top:10px;display:grid}.achievement{border:1px solid var(--line);border-radius:10px;padding:10px}.achievement.unlocked{background:color-mix(in srgb, var(--primary) 12%, var(--panel))}.achievement.locked{opacity:.72}.achievement-title{margin:0;font-weight:900}.achievement-desc{color:var(--muted);margin:4px 0 0;font-size:.8rem}.mission-progress-row{grid-template-columns:120px 1fr auto;align-items:center;gap:8px;margin-top:8px;display:grid}.mission-progress-row span,.mission-progress-row strong{font-size:.82rem}.mission-progress-track{background:var(--bg-elev);border-radius:999px;height:8px;overflow:hidden}.mission-progress-track>div{border-radius:inherit;background:var(--primary);height:100%;transition:width .25s}.mission-reward-panel{border:1px solid var(--line);background:var(--panel);border-radius:14px;margin-top:12px;padding:12px}.mission-reward-panel h3{margin:0 0 9px}.reward-grid{grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;display:grid}.reward-item{border:1px solid var(--line);background:color-mix(in srgb, var(--panel-2) 82%, transparent);border-radius:10px;padding:9px}.reward-item p{color:var(--muted);margin:0;font-size:.78rem}.reward-item strong{margin-top:4px;display:block}.session-card{border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-sm);text-align:center;border-radius:16px;padding:20px}.session-card h3{margin:0;font-size:1.28rem}.session-card p{color:var(--muted);margin:8px 0 0;font-weight:700}.session-cta{justify-content:center;align-items:center;gap:8px;min-width:220px;min-height:48px;margin-top:16px;font-size:1rem;display:inline-flex}.session-prep{border:1px solid var(--line);background:var(--panel);border-radius:14px;margin-top:12px;padding:12px}.session-prep h3{margin:0 0 8px}.session-prep-grid{gap:6px;display:grid}.session-prep-grid p{color:var(--muted);margin:0;font-weight:700}.quests-list{gap:8px;margin:10px 0 0;padding:0;list-style:none;display:grid}.quests-list li{border:1px solid var(--line);background:var(--duo-surface);color:var(--text);border-radius:10px;align-items:center;gap:8px;padding:8px 10px;font-weight:800;display:flex}.quest-icon{width:16px;height:16px;color:var(--primary-strong)}.game-nav{align-items:center;gap:10px;padding:13px 18px;display:flex}.close-btn{color:var(--muted);cursor:pointer;background:0 0;border:0;border-radius:10px;width:40px;height:40px;font-size:1.3rem}.close-btn:hover{background:color-mix(in srgb, var(--panel) 76%, transparent)}.progress-col{flex:1}.progress-col small{color:var(--muted);margin-top:6px;font-size:.78rem;font-weight:700;display:block}.progress-track{background:var(--bg-elev);border-radius:999px;height:12px;overflow:hidden}.progress-fill{background:var(--primary);height:100%;transition:width .22s}.stats-box{gap:7px;display:flex}.stat-chip{background:var(--chip);border:1px solid var(--line);border-radius:999px;align-items:center;gap:5px;padding:5px 10px;font-size:.77rem;font-weight:800;display:inline-flex}.stat-icon{width:14px;height:14px}.lesson-main{padding:8px 18px 138px}.theory-card{padding:20px}.theory-card h2{align-items:center;gap:8px;margin:0;display:flex}.theory-icon{width:20px;height:20px}.question-meta{color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin:0 0 6px;font-size:.73rem;font-weight:900}.micro-theory-text{color:var(--muted);margin:12px 0 0;font-weight:700;line-height:1.58}.theory-badges{flex-wrap:wrap;gap:8px;margin-top:10px;display:flex}.theory-section{border:1px solid var(--line);background:color-mix(in srgb, var(--panel-2) 70%, transparent);border-radius:10px;margin-top:12px;padding:10px 12px}.theory-section h3{margin:0 0 6px;font-size:.9rem}.theory-section p{color:var(--muted);margin:0;font-weight:700}.theory-list{color:var(--muted);gap:4px;margin:0;padding-left:18px;font-weight:700;display:grid}.theory-code{background:var(--editor);color:#dce6f7;white-space:pre-wrap;border:1px solid #2f425f;border-radius:8px;margin:0;padding:8px 10px;font-family:Consolas,monospace}.lesson-example{border:1px solid var(--line);border-radius:var(--radius-sm);background:color-mix(in srgb, var(--panel-2) 90%, transparent);margin-top:13px;padding:10px 12px}.speech-wrap{align-items:flex-end;gap:12px;margin-bottom:10px;display:flex}.snake{background:var(--blue);color:#fff;width:54px;height:54px;box-shadow:var(--shadow-sm);border-radius:13px;place-items:center;display:grid}.snake-icon{width:24px;height:24px}.speech-bubble{background:var(--panel);border:1px solid var(--line);border-radius:14px;flex:1;padding:12px;position:relative}.speech-bubble p{margin:0;font-weight:800;line-height:1.4}.speech-tail{border-left:1px solid var(--line);border-bottom:1px solid var(--line);background:var(--panel);width:13px;height:13px;position:absolute;bottom:14px;left:-7px;transform:rotate(45deg)}.challenge-panel{margin-top:8px;padding:12px}.adrenaline-panel{border:1px solid var(--line);background:var(--panel-2);border-radius:12px;margin-bottom:10px;padding:10px}.adrenaline-head{justify-content:space-between;align-items:center;gap:10px;font-size:.8rem;font-weight:800;display:flex}.adrenaline-track{background:var(--bg-elev);border-radius:999px;height:8px;margin-top:8px;overflow:hidden}.adrenaline-track>div{border-radius:inherit;background:linear-gradient(90deg,#f97316,#ef4444);height:100%;transition:width .25s}.adrenaline-actions{justify-content:space-between;align-items:center;gap:10px;margin-top:8px;display:flex}.adrenaline-actions p{color:var(--muted);margin:0;font-size:.76rem;font-weight:700}.challenge-head{justify-content:space-between;gap:10px;margin-bottom:8px;display:flex}.challenge-head.compact{border-bottom:1px solid color-mix(in srgb, var(--line) 72%, transparent);align-items:flex-start;padding-bottom:8px}.challenge-head.compact h3{letter-spacing:-.01em;margin:0;font-size:.96rem;font-weight:800;line-height:1.35}.challenge-type,.challenge-combo{background:var(--chip);border:1px solid var(--line);color:var(--muted);border-radius:999px;padding:4px 8px;font-size:.72rem;font-weight:900}.challenge-meta-inline{flex-wrap:wrap;gap:6px;margin-bottom:8px;display:flex}.challenge-meta-inline span{border:1px solid var(--line);color:var(--muted);background:color-mix(in srgb, var(--panel) 90%, transparent);text-transform:lowercase;border-radius:999px;padding:3px 8px;font-size:.7rem}.challenge-workspace{grid-template-columns:minmax(0,1fr);gap:8px;display:grid}.challenge-editor{border:1px solid var(--line);background:color-mix(in srgb, var(--panel) 92%, transparent);border-radius:10px;padding:8px}.challenge-meta-grid{flex-wrap:wrap;gap:8px;margin:0 0 10px;display:flex}.challenge-pill{border:1px solid var(--line);background:var(--panel-2);color:var(--muted);border-radius:999px;padding:5px 10px;font-size:.74rem;font-weight:800}.challenge-pill.basico{border-color:color-mix(in srgb, var(--primary) 40%, var(--line))}.challenge-pill.intermedio{border-color:color-mix(in srgb, var(--blue) 45%, var(--line))}.challenge-pill.avanzado{border-color:color-mix(in srgb, #f59e0b 48%, var(--line))}.code-editor{background:var(--editor);color:#e5e7eb;border:1px solid #2f425f;border-radius:13px;padding:15px}.editor-bar{border-bottom:1px solid #365173;align-items:center;gap:6px;margin-bottom:8px;padding-bottom:8px;display:flex}.dot{border-radius:50%;width:10px;height:10px}.dot.red{background:#ef4444}.dot.yellow{background:#f59e0b}.dot.green{background:#22c55e}.editor-file{color:#9ab0cf;margin-left:6px;font-size:.75rem}.editor-row{margin-bottom:8px}.editor-kw{color:#93c5fd}.editor-input-wrap{align-items:center;gap:6px;display:flex}.starter-code{color:#b6c6ff}.editor-input{color:#e2e8f0;resize:vertical;background:#0f1928ad;border:1px solid #3a5579;border-radius:8px;outline:none;flex:1;min-height:72px;padding:8px;font-family:Consolas,monospace}.editor-input:focus{border-color:#77b2ff}.code-example{background:#091220d9;border:1px solid #344e70;border-radius:10px;margin:0 0 9px;padding:8px 0;overflow-x:auto}.code-example-line{grid-template-columns:34px 1fr;gap:8px;padding:0 10px;font-family:Consolas,monospace;font-size:.83rem;line-height:1.55;display:grid}.code-example-ln{color:#7f95b4;text-align:right;-webkit-user-select:none;user-select:none}.code-example-content{white-space:pre}.tok-comment{color:#7db37f}.tok-keyword{color:#8ab4ff;font-weight:700}.tok-string{color:#ffb86c}.tok-number{color:#70d4ff}.tok-operator{color:#d6e2ff}.tok-ident{color:#dce6f7}.choice-grid{grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;display:grid}.choice-btn{border:1px solid var(--line);background:var(--panel);color:var(--text);text-align:left;cursor:pointer;border-radius:11px;padding:11px;font-family:Consolas,monospace;transition:all .13s}.choice-btn:hover{border-color:var(--line-strong)}.choice-btn.active{border-color:color-mix(in srgb, var(--primary) 60%, var(--line));box-shadow:inset 0 -2px 0 color-mix(in srgb, var(--primary) 55%, transparent)}.arrange-wrap{gap:8px;display:grid}.arrange-target{border:1px dashed var(--line-strong);background:var(--panel-2);border-radius:10px;min-height:42px;padding:10px;font-family:Consolas,monospace}.fragment-bag{flex-wrap:wrap;gap:6px;display:flex}.fragment-chip{border:1px solid var(--line);background:var(--chip);color:var(--text);cursor:pointer;border-radius:999px;padding:6px 10px;font-family:Consolas,monospace;transition:transform .12s}.fragment-chip:hover{transform:translateY(-1px)}.arrange-actions{gap:8px;display:flex}.debug-wrap{gap:10px;display:grid}.buggy-block{border:1px solid var(--line);background:color-mix(in srgb, var(--error-bg) 42%, var(--panel));border-radius:10px;padding:10px}.buggy-block pre{white-space:pre-wrap;margin:0;font-family:Consolas,monospace}.runner-panel{border:1px solid var(--line);background:var(--panel-2);border-radius:10px;min-height:110px;margin-top:0;padding:8px 10px}.runner-panel pre{white-space:pre-wrap;margin:0;font-family:Consolas,monospace}.runner-ok{color:var(--muted)}.runner-error{color:var(--danger)}.feedback{z-index:40;width:min(1120px,100vw - 20px);padding:12px 16px calc(12px + env(safe-area-inset-bottom));border:1px solid var(--line);background:var(--panel);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-bottom:0;position:fixed;bottom:0;left:50%;transform:translate(-50%);box-shadow:0 -10px 24px #00000047}.feedback-inner{align-items:center;gap:12px;display:flex}.feedback-text{flex:1}.feedback-text h3{margin:0 0 2px;font-size:1.06rem}.feedback-text p{margin:0;font-weight:700}.feedback.success{background:var(--success-bg);color:var(--success-text)}.feedback.error{background:var(--error-bg);color:var(--error-text)}.primary-btn,.secondary-btn,.feedback-btn,.duo-button,.mini-btn{cursor:pointer;border-radius:11px;font-weight:800;transition:transform .12s,filter .12s}.primary-btn,.feedback-btn,.duo-button{color:#fff;background:var(--primary);border:0;padding:10px 15px}.primary-btn:hover,.feedback-btn:hover,.duo-button:hover{filter:brightness(1.05)}.secondary-btn,.mini-btn{border:1px solid var(--line);background:var(--panel-2);color:var(--muted);padding:8px 12px}.mini-btn:disabled{opacity:.55;cursor:not-allowed}.stat-chip.adrenaline{border-color:color-mix(in srgb, #ef4444 45%, var(--line))}.feedback-adrenaline{font-size:.82rem;font-weight:800;margin-top:8px!important}.feedback-btn{min-width:170px;min-height:44px;font-size:.94rem}.onboarding-shell{place-items:center;min-height:100vh;padding:20px;display:grid}.onboarding-card{width:min(940px,100%);padding:22px}.onboarding-card h1{margin:0 0 6px}.onboarding-card p{color:var(--muted)}.form-grid{grid-template-columns:repeat(2,minmax(0,1fr));gap:11px;margin-top:12px;display:grid}.form-grid label{color:var(--muted);gap:6px;font-size:.9rem;font-weight:800;display:grid}.form-grid input,.form-grid select{border:1px solid var(--line);background:var(--panel);color:var(--text);border-radius:10px;padding:10px}.form-grid input:focus,.form-grid select:focus{border-color:var(--line-strong);outline:none}.placement-list{gap:10px;margin-top:12px;display:grid}.placement-item{border:1px solid var(--line);background:var(--panel-2);border-radius:12px;padding:10px}.placement-item h3{margin:0 0 8px;font-size:.95rem;line-height:1.35}.placement-options{flex-wrap:wrap;gap:6px;display:flex}.placement-option{border:1px solid var(--line);background:var(--panel);color:var(--text);cursor:pointer;border-radius:999px;padding:7px 10px;font-weight:700}.placement-option.active{border-color:color-mix(in srgb, var(--primary) 60%, var(--line));box-shadow:inset 0 -2px 0 color-mix(in srgb, var(--primary) 55%, transparent)}.error-text{color:var(--danger);font-weight:800}.game-over{text-align:center;place-content:center;gap:8px;min-height:100vh;padding:22px;display:grid}.game-over-actions{flex-wrap:wrap;justify-content:center;gap:8px;display:flex}.error-boundary{place-items:center;min-height:100vh;padding:20px;display:grid}.error-boundary-card{border:1px solid var(--line);background:var(--panel);text-align:center;width:min(560px,100%);box-shadow:var(--shadow-md);border-radius:16px;padding:20px}.error-boundary-card h1{margin:6px 0;font-size:1.4rem}.error-boundary-card p{color:var(--muted)}.mobile-dock{display:none}.dock-icon{width:15px;height:15px}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-6px)}50%{transform:translate(6px)}75%{transform:translate(-6px)}}.animate-shake{animation:.32s ease-in-out shake}@keyframes statPop{0%{opacity:.7;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (prefers-reduced-motion:reduce){.map-node,.animate-shake{animation:none!important}}@media (width<=900px){.topbar{flex-direction:column;align-items:start;padding-top:16px}.tabs{display:none}.form-grid{grid-template-columns:1fr}.game-nav{flex-wrap:wrap}.progress-col{flex-basis:100%;order:3}.choice-grid{grid-template-columns:1fr}.lesson-main{padding-bottom:164px;padding-left:12px;padding-right:12px}.feedback{width:calc(100vw - 10px);padding:10px 10px calc(12px + env(safe-area-inset-bottom));border-radius:14px 14px 0 0}.feedback-inner{flex-direction:column;align-items:stretch}.feedback-btn{width:100%}.mobile-hero{display:flex}.map-screen{padding-bottom:86px}.duo-summary{grid-template-columns:1fr}.ring-grid{grid-template-columns:repeat(2,minmax(0,1fr))}.focus-strip{grid-template-columns:1fr;margin-left:12px;margin-right:12px}.stats-kpi-row,.reward-grid{grid-template-columns:1fr}.adrenaline-actions{flex-direction:column;align-items:stretch}.challenge-head{flex-direction:column;align-items:flex-start}.mobile-dock{z-index:20;border:1px solid var(--line);background:var(--panel);box-shadow:var(--shadow-md);border-radius:14px;grid-template-columns:repeat(4,minmax(74px,1fr));gap:8px;padding:8px;display:grid;position:fixed;bottom:10px;left:10px;right:10px;overflow-x:auto}.dock-btn{border:1px solid var(--line);background:var(--panel-2);color:var(--muted);border-radius:10px;justify-content:center;align-items:center;gap:7px;padding:10px 12px;font-weight:800;display:inline-flex}.dock-btn.active{background:var(--primary);color:#fff;border-color:#0000}}@media (width>=960px){.challenge-workspace{grid-template-columns:1.45fr 1fr;align-items:start}}:root{--pro-bg-1:#0b1422;--pro-bg-2:#0f1b2f;--pro-card:#132033;--pro-card-soft:#1a2b42;--pro-text:#e9eef6;--pro-muted:#9db0c8;--pro-border:#2b3c54;--pro-shadow:0 14px 40px #00000059}.app-shell{background:radial-gradient(900px 280px at -10% 0%, color-mix(in srgb, var(--primary) 12%, transparent), transparent 70%), radial-gradient(700px 250px at 110% 0%, color-mix(in srgb, var(--blue) 14%, transparent), transparent 72%), linear-gradient(180deg, var(--pro-bg-1), var(--pro-bg-2))}.desktop-shell-header{z-index:14;border-bottom:1px solid color-mix(in srgb, var(--pro-border) 80%, transparent);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:color-mix(in srgb, var(--pro-bg-1) 88%, transparent);position:sticky;top:0}.desktop-shell .tabs{border:1px solid var(--pro-border);background:color-mix(in srgb, var(--pro-card) 88%, transparent);border-radius:14px;padding:4px;box-shadow:0 6px 20px #11182712}.desktop-shell .tab{border:1px solid #0000;border-radius:10px;padding:9px 12px;font-size:.84rem}.desktop-shell .tab.active{border-color:color-mix(in srgb, var(--primary) 28%, var(--pro-border));background:color-mix(in srgb, var(--primary) 15%, var(--panel));box-shadow:none}.map-screen.clean-layout{max-width:1120px;padding-top:14px}.usage-streak-panel,.profile-card,.stats-page,.missions-page,.session-page,.plan-card,.duo-stat-card,.onboarding-card,.theory-card,.challenge-panel{background:linear-gradient(180deg, var(--pro-card), var(--pro-card-soft));border:1px solid var(--pro-border);box-shadow:var(--pro-shadow)}.usage-streak-panel{max-width:780px;margin:0 auto 16px}.map-wrap{background:color-mix(in srgb, var(--pro-card) 82%, transparent);border:1px solid var(--pro-border);box-shadow:var(--pro-shadow);border-radius:22px;margin-top:6px;padding:20px 16px 62px}.map-title{letter-spacing:0;color:var(--pro-text);font-size:1.18rem}.map-path{stroke:color-mix(in srgb, var(--primary) 32%, var(--pro-border));stroke-width:7px}.map-node{width:74px;height:74px;box-shadow:0 8px 24px #0f172a21}.map-node.is-open{background:linear-gradient(#6fdf1b,#4cb600)}.map-node.is-completed{background:linear-gradient(#39c3ff,#1f9fd7)}.map-node-label{color:var(--pro-text);border-color:var(--pro-border);background:var(--panel)}.stats-page,.missions-page,.session-page,.profile-card{border-radius:18px;max-width:920px;margin-left:auto;margin-right:auto;padding:12px}.ring-grid{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}.ring-card{border-radius:16px;padding:16px 12px}.ring-chart{width:102px;height:102px}.mission-item{border-radius:14px;padding:14px}.session-card{border-radius:18px;padding:28px 24px}.session-cta{border-radius:14px;min-width:260px;min-height:52px;box-shadow:0 10px 24px #4cb6004d}.game-nav{border:1px solid var(--pro-border);background:color-mix(in srgb, var(--pro-card) 92%, transparent);border-radius:14px;max-width:1120px;margin-top:10px}.lesson-main{max-width:1120px;padding-top:16px}.theory-card{max-width:860px;margin:0 auto}.speech-wrap{max-width:900px;margin:0 auto 12px}.challenge-panel{max-width:900px;margin-left:auto;margin-right:auto}.feedback{border:1px solid var(--pro-border);border-radius:14px 14px 0 0;max-width:1120px}.mobile-shell{background:radial-gradient(480px 220px at 25% -10%, color-mix(in srgb, var(--primary) 16%, transparent), transparent 74%), linear-gradient(180deg, #0b1422, #0f1b2f)}.mobile-shell-header{border-bottom:1px solid var(--pro-border)}.mobile-shell-hero{border-radius:16px}.mobile-shell-content .usage-streak-panel,.mobile-shell-content .stats-page,.mobile-shell-content .missions-page,.mobile-shell-content .session-page,.mobile-shell-content .profile-card,.mobile-shell-content .map-wrap{margin-left:12px;margin-right:12px}.mobile-shell-content .ring-grid{grid-template-columns:repeat(2,minmax(0,1fr))}.mobile-shell-content .achievements-grid{grid-template-columns:1fr}.mobile-shell-content .mission-progress-row{grid-template-columns:1fr;gap:4px}.mobile-dock{border-radius:18px;padding:8px;box-shadow:0 14px 36px #0f172a38}.dock-btn{border-radius:12px;min-height:46px;font-size:.8rem}.dock-btn.active{box-shadow:0 8px 20px #4cb60047}@media (width<=900px){.desktop-shell-header{-webkit-backdrop-filter:none;backdrop-filter:none;background:0 0;border-bottom:none;position:static}}
